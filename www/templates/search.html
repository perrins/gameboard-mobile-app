<ion-view title="Search Videos" class="glass">

	<ion-nav-buttons side="left">
		<button menu-toggle="left" class="button button-icon icon ion-navicon"></button>
	</ion-nav-buttons>

	<ion-content start-y="55" padding="false" has-tabs="false" has-header="true">
		<div id="search-box" class="bar bar-header item-input-inset">
			<div class="item-input-wrapper">
                    <input ng-model="search.query"
                           name="search"
                           type="search"
                           placeholder="Search ?">
                <i class="clear-search icon ion-ios7-close-empty" ng-click="clearSearch(search)"></i>
			</div>
			<button class="button button-clear button-positive" ng-click="findVideos(search)">Find</button>
		</div>

		<div class="list card" ng-show="error">
			<div class="item item-icon-left">
				<i class="icon ion-information-circled"></i> {{error}}
			</div>
		</div>

		<div class="list" ng-show="videos">

			<ion-item  class="item item-thumbnail-left item-icon-right board-item"
					  ng-href="#/board/video/{{video.uuid}}" can-swipe="true" collection-repeat="video in videos"
					  collection-item-width="'100%'" collection-item-height="100">

                <img alt="{{video.ytimage}}" ng-src="{{video.ytimage}}" lazyload>

                 <span class="board-rank">
                    <svg xmlns="http://www.w3.org/2000/svg"
                         xmlns:xlink="http://www.w3.org/1999/xlink">

                        <circle cx="25" cy="25" r="25"
                                style="stroke:#grey;
                                stroke-width: .7;
                                fill:grey;
                                fill-opacity:0.6"/>
                        <text x="25" y="25" font-size="18" fill="white" font-weight="bold"
                              text-anchor="middle" alignment-baseline="middle">
                            {{video.rank}}
                        </text>
                    </svg>
                </span>

                <h2>{{video.title}}</h2>

                <!--h3>{{video.gameTag}}</h3-->

                <p>{{video.description}}</p>

                <div class="board-views">
                    <button class= "button button-small button-royal" >
                        {{video.views}}
                        <i class="ion-ios7-star"></i>
                        </a>
                    </button>
                    <button class="button button-small button-balanced">
                        {{video.prize}}
                        <i class="ion-chatboxes"></i>
                        </a>
                    </button>
                </div>

                <div star-rating rating-value="4" max="5" on-rating-selected="rateFunction(rating)"></div>

                <ion-option-button class="button-positive" ng-click="showActions(video)">Menu
                </ion-option-button>

                <ion-option-button class="button-royal" ng-click="viewVideo(video)">
                    <i class="icon ion-videocamera"></i>
                </ion-option-button>

                <ion-option-button class="button-royal" ng-click="addToFavourite(video)">
                    <i class="icon ion-heart"></i>
                </ion-option-button>

                <i class="icon ion-chevron-right icon-accessory"></i>

			</ion-item>

		</div>

		</div>

		<ion-infinite-scroll
                ng-if="total>0 && videos.length < total"
				class="progress"
				icon="ion-loading-c"
				on-infinite="loadMore()"
				distance="5%">
		</ion-infinite-scroll>

	</ion-content>

	<div class="bar bar-footer bar-balanced">
		<div class="title">{{number}}</div>
	</div>

</ion-view>
