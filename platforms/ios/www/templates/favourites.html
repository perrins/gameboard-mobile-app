<ion-view title="Favourites">

    <ion-nav-buttons side="left">
        <button menu-toggle="left" class="button button-icon icon ion-navicon"></button>
    </ion-nav-buttons>

    <ion-content class="has-header" scroll="false">

        <div class="button-bar" scroll="false">
            <button class="button button-balanced button-block nobuttonmargins" ng-click="showVideos()">Videos
            <span class="badge badge-energized">{{total_videos}}</span>
            </button>    
            <button class="button button-positive button-block nobuttonmargins" ng-click="showMembers()">Members
            <span class="badge badge-royal">{{total_members}}</span>
            </button>

        </div>
    </ion-content>    
    <ion-content class="has-header" style="top:110px;">

        <ion-refresher pulling-text="Pull to refresh..." on-refresh="onRefresh();">
        </ion-refresher>

        <div class="list-error card assertive-bg hidden" ng-show="!videos">
            <div class="item item-text-wrap">
                Cannot retrieve your favourite Videos at this time
            </div>
        </div>

        <div class="item item-divider" ng-show="videos">
            Videos
            <span class="badge badge-assertive">£12,000</span>
        </div>

        <ion-list can-delete="true" can-swipe="true" on-delete="onVideoDelete(video)" show-delete="showDelete" delete-icon="ion-minus-circled" option-buttons="itemButtons" ng-show="videos">

            <ion-item ng-repeat="video in videos | orderBy:'rank'" 
                class="item item-icon-right" 
                type="item-text-wrap" 
                item="video" 
                ng-href="#/board/video/{{video.uuid}}">

                <div class="Video">
                    <img ng-src="{{video.thumb}}" lazyvideo>
                </div>

                <h2>{{video.title}}</h2>
                <h3>{{video.gameTag}}</h2>
                    <p>{{video.description}}</p>
                    <span class="badge badge-balanced">{{video.views}}</span>
                    <span class="badge badge-royal">{{video.rank}}</span>

                <i class="icon ion-chevron-right icon-accessory"></i>

            </ion-item>

        </ion-list>

        <div class="item item-divider" ng-show="members">
            Members
            <span class="badge badge-assertive">£2,200</span>
        </div>

        <ion-list id="fmembers" can-delete="true" can-swipe="true" on-delete="onMemberDelete(video)" show-delete="showDelete" delete-icon="ion-minus-circled" option-buttons="itemButtons" ng-show="members">

            <ion-item ng-repeat="member in members | orderBy:'rank'" 
                class="item item-thumbnail-left item-icon-right" 
                type="item-text-wrap" 
                item="member" 
                ng-href="#/board/member/{{member.muuid}}">

                <img ng-src="{{member.avatar}}">
                <h2>{{member.gameTag}}</h2>
                <p>{{member.name}}</p>
                <span class="badge badge-assertive">{{member.prizes}}</span>
                <span class="badge badge-calm">{{member.videos}}</span>

                <i class="icon ion-chevron-right icon-accessory"></i>

            </ion-item>

        </ion-list>

    </ion-content>
</ion-view>
